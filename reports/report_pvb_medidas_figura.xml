<odoo>
    <data>
        <record id="action_report_pvb_medidas_figura" model="ir.actions.report">
            <field name="name">PVB+ Medidas de figura</field>
            <field name="model">mrp.master.order</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">alterben_mrp_master_order.report_pvb_medidas_figura</field>
            <field name="print_report_name">'PVB+ Medidas de figura - ' + (doc.name or '')</field>
        </record>

        <template id="report_pvb_medidas_figura">
            <t t-call="web.basic_layout">
                <div class="page" style="margin-top:0; padding-top:0; margin-left:2mm; margin-right:2mm;">
                    <h2 style="text-align:center">VIDRIOS CURVADOS</h2>
                    <div>
                        <strong>FECHA:</strong>
                        <span t-esc="now_str"/>
                    </div>
                    <br/>
                    <style type="text/css">
                        .pvb-figura-table {
                            width: 100%;
                            font-size: 11px;
                            border-collapse: collapse;
                            table-layout: fixed;
                        }
                        .pvb-figura-table th,
                        .pvb-figura-table td {
                            border: 1px solid #000;
                            padding: 2px 4px;
                            white-space: nowrap;
                            overflow: hidden;
                            text-overflow: ellipsis;
                        }
                    </style>
                    <table class="table table-sm o_main_table pvb-figura-table">
                        <thead>
                            <tr>
                                <th style="width:4%;">#</th>
                                <th style="width:10%;">PEDIDO</th>
                                <th style="width:14%;">CODIGO</th>
                                <th style="width:8%;">COD. PRINCIPAL</th>
                                <th style="width:28%;">DESCRIPCION</th>
                                <th style="width:6%;">ALTO</th>
                                <th style="width:6%;">ANCHO</th>
                                <th style="width:4%;">V1</th>
                                <th style="width:4%;">V2</th>
                                <th style="width:4%;">C1</th>
                                <th style="width:4%;">C2</th>
                                <th style="width:6%;">SR</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-set="_i" t-value="0"/>
                            <tr t-foreach="rows" t-as="row">
                                <t t-set="_i" t-value="_i + 1"/>
                                <td t-esc="_i"/>
                                <t t-set="l" t-value="row['line']"/>
                                <td t-esc="l.pedido_original_id.name or ''"/>
                                <td t-esc="l.product_id.default_code or ''"/>
                                <td t-esc="l.product_code or ''"/>
                                <td t-esc="l.product_id.name or ''"/>
                                <td t-esc="'%.0f' % row['alto'] if row['alto'] not in (False, None) else ''"/>
                                <td t-esc="'%.0f' % row['ancho'] if row['ancho'] not in (False, None) else ''"/>
                                <td t-esc="'%.1f' % row['v1'] if row['v1'] not in (False, None) else ''"/>
                                <td t-esc="'%.1f' % row['v2'] if row['v2'] not in (False, None) else ''"/>
                                <td t-esc="row['c1'] or ''"/>
                                <td t-esc="row['c2'] or ''"/>
                                <td t-esc="row['sr'] or ''"/>
                            </tr>
                        </tbody>
                    </table>

                    <div style="margin-top:8mm; text-align:right; font-size:12px; font-weight:bold;">
                        RPRO 04-09/01
                    </div>
                </div>
            </t>
        </template>
    </data>
</odoo>
