<odoo>
  <record id="view_control_total_label_tree" model="ir.ui.view">
    <field name="name">control.total.label.tree</field>
    <field name="model">control.total.label</field>
    <field name="arch" type="xml">
      <tree string="Etiquetas de Control Total" create="false" delete="true">
        <field name="name"/>
        <field name="active"/>
        <field name="inactive_reason"/>
        <field name="product_id"/>
        <field name="document_reference" string="Documento"/>
        <field name="picking_id" optional="hide"/>
        <field name="master_order_id" optional="hide"/>
        <field name="master_order_line_id" optional="hide"/>
        <field name="date_dispatch" optional="show"/>
        <field name="note" optional="show"/>
      </tree>
    </field>
  </record>

  <record id="view_control_total_label_form" model="ir.ui.view">
    <field name="name">control.total.label.form</field>
    <field name="model">control.total.label</field>
    <field name="arch" type="xml">
      <form>
        <sheet>
          <group>
            <field name="name"/>
            <field name="active"/>
            <field name="inactive_reason" modifiers='{"invisible": [["active","=", true]]}'/>
            <field name="note"/>
          </group>
          <group string="Vínculos">
            <field name="partner_id"/>
            <field name="product_id"/>
            <field name="picking_id"/>
            
            
            
            
            <field name="date_dispatch"/>
          </group>
        </sheet>
      </form>
    </field>
  </record>

  <record id="action_control_total_label" model="ir.actions.act_window">
    <field name="name">Etiquetas Control Total</field>
    <field name="res_model">control.total.label</field>
    <field name="view_mode">tree,form</field>
    <field name="context">{'search_disable_custom_filters': True}</field>
  </record>
  
  <record id="view_control_total_label_search" model="ir.ui.view">
    <field name="name">control.total.label.search</field>
    <field name="model">control.total.label</field>
    <field name="arch" type="xml">
      <search string="Buscar etiquetas">
        <field name="name"/>
        <field name="product_id"/>
        <field name="document_reference" string="Documento"/>
        <field name="picking_id"/>
        <field name="master_order_id"/>
        <field name="master_order_line_id"/>
        <filter string="Activas" name="active" domain="[('active', '=', True)]"/>
        <filter string="Inactivas" name="inactive" domain="[('active', '=', False)]"/>
        <group expand="0" string="Agrupar por">
          <filter string="Producto" name="group_by_product" context="{'group_by':'product_id'}"/>
          <filter string="Documento" name="group_by_document" context="{'group_by':'document_reference'}"/>
          <filter string="Orden Maestra" name="group_by_master_order" context="{'group_by':'master_order_id'}"/>
          <filter string="Línea de Orden" name="group_by_master_order_line" context="{'group_by':'master_order_line_id'}"/>
          <filter string="Estado" name="group_by_active" context="{'group_by':'active'}"/>
        </group>
      </search>
    </field>
  </record>
</odoo>
